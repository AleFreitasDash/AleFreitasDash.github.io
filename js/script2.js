(function(_0x2ae73b,_0x98763c){const _0x562f65=_0x5d9a,_0x7c29a0=_0x2ae73b();while(!![]){try{const _0x2a9d80=parseInt(_0x562f65(0x13c))/0x1*(parseInt(_0x562f65(0x13f))/0x2)+parseInt(_0x562f65(0x134))/0x3*(parseInt(_0x562f65(0x13e))/0x4)+parseInt(_0x562f65(0x150))/0x5+parseInt(_0x562f65(0x122))/0x6*(parseInt(_0x562f65(0x147))/0x7)+-parseInt(_0x562f65(0x117))/0x8+parseInt(_0x562f65(0x11b))/0x9*(-parseInt(_0x562f65(0x14e))/0xa)+-parseInt(_0x562f65(0x137))/0xb;if(_0x2a9d80===_0x98763c)break;else _0x7c29a0['push'](_0x7c29a0['shift']());}catch(_0x287483){_0x7c29a0['push'](_0x7c29a0['shift']());}}}(_0x4b1d,0x3dcd0));let map;document['getElementById']('route-form')['addEventListener']('submit',async _0x2b6a04=>{const _0x23580d=_0x5d9a;_0x2b6a04['preventDefault'](),console[_0x23580d(0x111)]('Formulário\x20submetido');const _0x446a0d=document[_0x23580d(0x12d)](_0x23580d(0x13a))[_0x23580d(0x141)],_0x56731f=document[_0x23580d(0x12d)](_0x23580d(0x11e))[_0x23580d(0x141)][_0x23580d(0x114)]('\x0a')[_0x23580d(0x133)](_0x457794=>_0x457794['trim']())[_0x23580d(0x12e)](_0x31499d=>_0x31499d),_0x332b23=parseInt(document['getElementById'](_0x23580d(0x11d))[_0x23580d(0x141)]);console[_0x23580d(0x111)](_0x23580d(0x123),_0x446a0d),console[_0x23580d(0x111)](_0x23580d(0x139),_0x56731f),console['log'](_0x23580d(0x138),_0x332b23);try{const _0x4ef59d=await getCoordinates(_0x446a0d),_0x922e=await Promise[_0x23580d(0x13b)](_0x56731f[_0x23580d(0x133)](_0x1af2b4=>getCoordinates(_0x1af2b4)));console['log'](_0x23580d(0x110),_0x4ef59d),console['log'](_0x23580d(0x145),_0x922e);const _0x2dc20d=divideDestinations(_0x922e,_0x332b23),_0xb4f0df=[_0x4ef59d,..._0x922e],_0x4cb324=await calculateDistanceMatrix(_0xb4f0df);console[_0x23580d(0x111)](_0x23580d(0x11c),_0x4cb324);const _0x1757b8=_0x2dc20d['map'](_0x4922b3=>generateRoute(_0x4cb324,_0x4922b3[_0x23580d(0x133)](_0x1ca76c=>_0x922e[_0x23580d(0x12b)](_0x1ca76c)+0x1)));console[_0x23580d(0x111)](_0x23580d(0x120),_0x1757b8),renderTableWithMultipleRoutes(_0x1757b8,_0x446a0d,_0x56731f,_0xb4f0df,_0x4cb324),await renderMapWithMultipleRoutes(_0x1757b8,_0xb4f0df);}catch(_0x36e96e){console[_0x23580d(0x10f)](_0x23580d(0x14c),_0x36e96e),alert('Erro\x20ao\x20calcular\x20a\x20rota:\x20'+_0x36e96e[_0x23580d(0x11f)]);}});async function getCoordinates(_0x54df16){const _0x57d8db=_0x5d9a,_0x28c4a6=await fetch('https://nominatim.openstreetmap.org/search?q='+encodeURIComponent(_0x54df16)+_0x57d8db(0x149)),_0x2a5838=await _0x28c4a6[_0x57d8db(0x113)]();if(_0x2a5838[_0x57d8db(0x118)]>0x0)return{'lat':parseFloat(_0x2a5838[0x0][_0x57d8db(0x125)]),'lng':parseFloat(_0x2a5838[0x0]['lon'])};else throw new Error(_0x57d8db(0x14f)+_0x54df16);}async function calculateDistanceMatrix(_0x5e3bb7){const _0x463a5f=_0x5d9a,_0x1f87b6=[];for(let _0x5c75af=0x0;_0x5c75af<_0x5e3bb7[_0x463a5f(0x118)];_0x5c75af++){const _0x2920df=[];for(let _0x158c80=0x0;_0x158c80<_0x5e3bb7[_0x463a5f(0x118)];_0x158c80++){if(_0x5c75af===_0x158c80)_0x2920df[_0x463a5f(0x148)](0x0);else{const _0x31b196=await getDistance(_0x5e3bb7[_0x5c75af],_0x5e3bb7[_0x158c80]);_0x2920df[_0x463a5f(0x148)](_0x31b196);}}_0x1f87b6[_0x463a5f(0x148)](_0x2920df);}return _0x1f87b6;}async function getDistance(_0x192f9a,_0x261957){const _0x5ce397=_0x5d9a,_0x163f46=await fetch(_0x5ce397(0x128)+_0x192f9a['lng']+','+_0x192f9a[_0x5ce397(0x125)]+';'+_0x261957[_0x5ce397(0x152)]+','+_0x261957[_0x5ce397(0x125)]+_0x5ce397(0x14b)),_0x1b5712=await _0x163f46[_0x5ce397(0x113)]();if(_0x1b5712['code']==='Ok')return _0x1b5712[_0x5ce397(0x129)][0x0][_0x5ce397(0x12a)];else throw new Error(_0x5ce397(0x124)+_0x1b5712[_0x5ce397(0x11f)]);}function divideDestinations(_0x4456a4,_0x2cb523){const _0x457402=_0x5d9a,_0x25ee95=Array[_0x457402(0x143)]({'length':_0x2cb523},()=>[]);return _0x4456a4[_0x457402(0x116)]((_0x58d57a,_0x2fbc4f)=>{const _0x1914af=_0x457402;_0x25ee95[_0x2fbc4f%_0x2cb523][_0x1914af(0x148)](_0x58d57a);}),_0x25ee95;}function _0x4b1d(){const _0x17ee23=['distance','indexOf','tileLayer','getElementById','filter','splice','getElementsByTagName','floor','addTo','map','53814QbNMYG','innerText','insertCell','8196133JrUqdu','Quantidade\x20de\x20rotas:','Endereços\x20de\x20destino:','origin','all','257GbPkAT','tbody','104zMojfT','3712DYSCKm','remove','value','&copy;\x20<a\x20href=\x22https://www.openstreetmap.org/copyright\x22>OpenStreetMap</a>\x20contributors','from','toFixed','Coordenadas\x20dos\x20destinos:','\x20km','104503WUNdfJ','push','&format=json&limit=1','innerHTML','?overview=false','Erro\x20ao\x20calcular\x20a\x20rota:','random','3338300EJETAz','Endereço\x20não\x20encontrado:\x20','2063770BTwSgy','Erro\x20ao\x20obter\x20segmento\x20da\x20rota:\x20','lng','error','Coordenadas\x20de\x20origem:','log','fitBounds','json','split','code','forEach','3656048lCWGBh','length','colSpan','marker','9tmOTuw','Matriz\x20de\x20distâncias:','num-routes','destinations','message','Rotas\x20geradas:','setView','174XeesLl','Endereço\x20de\x20origem:','Erro\x20ao\x20obter\x20distância:\x20','lat','Rota\x20','insertRow','https://routing.openstreetmap.de/routed-car/route/v1/driving/','routes'];_0x4b1d=function(){return _0x17ee23;};return _0x4b1d();}function generateRoute(_0xd2996c,_0x3842c7){const _0x36d764=_0x5d9a,_0x121a46=[0x0];_0x3842c7=[..._0x3842c7];while(_0x3842c7[_0x36d764(0x118)]>0x0){const _0x37e3da=_0x121a46[_0x121a46[_0x36d764(0x118)]-0x1];let _0x24662f=-0x1,_0x54c86d=Infinity;for(let _0x13addd=0x0;_0x13addd<_0x3842c7['length'];_0x13addd++){const _0xda1651=_0x3842c7[_0x13addd];_0xd2996c[_0x37e3da][_0xda1651]<_0x54c86d&&(_0x54c86d=_0xd2996c[_0x37e3da][_0xda1651],_0x24662f=_0x13addd);}_0x121a46['push'](_0x3842c7[_0x24662f]),_0x3842c7[_0x36d764(0x12f)](_0x24662f,0x1);}return _0x121a46;}function renderTableWithMultipleRoutes(_0x1ebb5f,_0x23937d,_0x5d6737,_0x49e0c5,_0x1fc91a){const _0x17e012=_0x5d9a,_0x5a35c7=document['getElementById']('route-table')[_0x17e012(0x130)](_0x17e012(0x13d))[0x0];_0x5a35c7[_0x17e012(0x14a)]='',_0x1ebb5f[_0x17e012(0x116)]((_0x300f03,_0x5695db)=>{const _0x30cf34=_0x17e012,_0xc480c0=_0x5a35c7[_0x30cf34(0x127)](),_0x3b58c8=_0xc480c0[_0x30cf34(0x136)](0x0);_0x3b58c8[_0x30cf34(0x119)]=0x3,_0x3b58c8[_0x30cf34(0x135)]=_0x30cf34(0x126)+(_0x5695db+0x1);let _0x2c38a5=0x0;_0x300f03[_0x30cf34(0x116)]((_0x564a48,_0x3b3d47)=>{const _0x5c061f=_0x30cf34,_0x1e6abb=_0x5a35c7[_0x5c061f(0x127)]();_0x1e6abb[_0x5c061f(0x136)](0x0)['innerText']=_0x3b3d47+0x1,_0x564a48===0x0?_0x1e6abb[_0x5c061f(0x136)](0x1)['innerText']=_0x23937d+',\x20'+_0x49e0c5[_0x564a48][_0x5c061f(0x125)]+',\x20'+_0x49e0c5[_0x564a48]['lng']:_0x1e6abb[_0x5c061f(0x136)](0x1)[_0x5c061f(0x135)]=_0x5d6737[_0x564a48-0x1]+',\x20'+_0x49e0c5[_0x564a48]['lat']+',\x20'+_0x49e0c5[_0x564a48][_0x5c061f(0x152)],_0x3b3d47>0x0&&(_0x2c38a5+=_0x1fc91a[_0x300f03[_0x3b3d47-0x1]][_0x300f03[_0x3b3d47]]),_0x1e6abb['insertCell'](0x2)['innerText']=(_0x2c38a5/0x3e8)[_0x5c061f(0x144)](0x2)+_0x5c061f(0x146);});});}function _0x5d9a(_0x274855,_0x346dd3){const _0x4b1d11=_0x4b1d();return _0x5d9a=function(_0x5d9a7e,_0x5deed3){_0x5d9a7e=_0x5d9a7e-0x10f;let _0x2a6f20=_0x4b1d11[_0x5d9a7e];return _0x2a6f20;},_0x5d9a(_0x274855,_0x346dd3);}async function renderMapWithMultipleRoutes(_0x3d78e1,_0x22aedb){const _0x415375=_0x5d9a;map&&map[_0x415375(0x140)]();map=L[_0x415375(0x133)]('map')[_0x415375(0x121)]([_0x22aedb[0x0]['lat'],_0x22aedb[0x0][_0x415375(0x152)]],0x6),L[_0x415375(0x12c)]('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',{'attribution':_0x415375(0x142)})['addTo'](map);for(const _0x3f0b9d of _0x3d78e1){const _0x522318=[];for(let _0x2fa585=0x0;_0x2fa585<_0x3f0b9d[_0x415375(0x118)]-0x1;_0x2fa585++){const _0x480544=_0x22aedb[_0x3f0b9d[_0x2fa585]],_0x7cc296=_0x22aedb[_0x3f0b9d[_0x2fa585+0x1]],_0x2e07c6=await getRouteSegment(_0x480544,_0x7cc296);_0x522318[_0x415375(0x148)](..._0x2e07c6);}const _0x56f4c4=L['polyline'](_0x522318,{'color':getRandomColor()})[_0x415375(0x132)](map);map[_0x415375(0x112)](_0x56f4c4['getBounds']()),_0x3f0b9d['forEach'](_0xcfa358=>{const _0x34ba99=_0x415375;L[_0x34ba99(0x11a)]([_0x22aedb[_0xcfa358][_0x34ba99(0x125)],_0x22aedb[_0xcfa358][_0x34ba99(0x152)]])['addTo'](map);});}}async function getRouteSegment(_0x428a5d,_0x33d24){const _0x226035=_0x5d9a,_0x49e289=await fetch('https://routing.openstreetmap.de/routed-car/route/v1/driving/'+_0x428a5d[_0x226035(0x152)]+','+_0x428a5d['lat']+';'+_0x33d24[_0x226035(0x152)]+','+_0x33d24[_0x226035(0x125)]+'?overview=full&geometries=geojson'),_0x487a24=await _0x49e289[_0x226035(0x113)]();if(_0x487a24[_0x226035(0x115)]==='Ok')return _0x487a24[_0x226035(0x129)][0x0]['geometry']['coordinates'][_0x226035(0x133)](_0x5c80ed=>[_0x5c80ed[0x1],_0x5c80ed[0x0]]);else throw new Error(_0x226035(0x151)+_0x487a24['message']);}function getRandomColor(){const _0x1d8226=_0x5d9a,_0x26d455='0123456789ABCDEF';let _0x67074f='#';for(let _0x5d56be=0x0;_0x5d56be<0x6;_0x5d56be++){_0x67074f+=_0x26d455[Math[_0x1d8226(0x131)](Math[_0x1d8226(0x14d)]()*0x10)];}return _0x67074f;}
